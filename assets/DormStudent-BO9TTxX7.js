import{r as i,u as c,a as M,j as u}from"./index-Un-UqFXO.js";function g({action:s="typing"}){const f=i.useRef(),{scene:p,animations:a}=c("./models/qcu_student_1.glb"),{actions:o}=M(a,f);return i.useEffect(()=>{if(!o)return;Object.values(o).forEach(d=>d.stop());const e={typing:"typing",success:"success",fail:"fail"},t=e[s]||e.typing,n=o[t];return n&&n.reset().fadeIn(.2).play(),()=>{n&&n.fadeOut(.2)}},[s,o]),i.useEffect(()=>()=>{o&&Object.values(o).forEach(e=>{e&&e.stop()}),p&&p.traverse(e=>{e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(t=>{r(t)}):r(e.material))})},[p,o]),u.jsx("group",{ref:f,position:[0,-.5,.65],rotation:[0,0,0],scale:.025,children:u.jsx("primitive",{object:p})})}function r(s){s&&(s.map&&s.map.dispose(),s.lightMap&&s.lightMap.dispose(),s.bumpMap&&s.bumpMap.dispose(),s.normalMap&&s.normalMap.dispose(),s.specularMap&&s.specularMap.dispose(),s.envMap&&s.envMap.dispose(),s.aoMap&&s.aoMap.dispose(),s.roughnessMap&&s.roughnessMap.dispose(),s.metalnessMap&&s.metalnessMap.dispose(),s.emissiveMap&&s.emissiveMap.dispose(),s.dispose())}c.preload("./models/qcu_student_1.glb");const m=i.memo(g);export{m as default};
